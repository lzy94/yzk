<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<title>唯恩云智库-角色管理</title>
		@@include('../../include/css.html')
		<link rel="stylesheet" type="text/css" href="/scripts/lib/fileinput/css/fileinput.min.css" />
	</head>

	<body class="theme-black">
		<div class="app-container expanded">
			<div class="row content-container">
				@@include('../../include/header.html') @@include('../../include/menu.html')
				<!-- Main Content -->
				<div class="container-fluid pad-0">

					<ol class="breadcrumb path-nav">
						<li>
							<a href="#">首页</a>
						</li>
						<li>
							<a href="#">系统管理</a>
						</li>
						<li class="active">角色管理</li>
					</ol>
					<div class="side-body  pt-10">
						<div class="panel">
							<div class="button">
								<a href="#" data-toggle="modal" data-target=".addModal" class="btn btn-add radius"> <span class="iconfont icon-plus"></span>添加用户</a>&nbsp;
								<a href="#" data-toggle="modal" data-target=".uploadUser" class="btn btn-add radius"><span class="iconfont icon-shangchuan"></span>上传用户</a>
								<a href="javascript:void(0)" class="btn btn-default radius">批量删除</a>
							</div>
							<div class="table-tip radius mb-20">
								<i class="iconfont icon-gantanhao3-hei"></i>&nbsp; 已选择3项，共有23132123项 ，<span>清空</span>
							</div>
							<div class="table-responsive">

								<table class="table table-hover">
									<thead>
										<tr>
											<th width="40" class="text-center">
												<input type="checkbox" id="num" name="allSelect" hidden="hidden">
												<label for="num" class="checkbox_label"></label>
											</th>
											<th>序号</th>
											<th>用户姓名</th>
											<th>身份证号</th>
											<th>联系电话</th>
											<th>email</th>
											<th>地址</th>
											<th>图片</th>
											<th>所属机构</th>
											<th>操作</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td class="text-center"><input type="checkbox" name="list_ch" id="1" hidden="hidden"><label for="1" class="checkbox_label"></label></td>
											<td>1</td>
											<td>2018年建设工程初级选拔考试</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>
												<div class="img">
													<img src="/images/test/3a32eb3d-7911-49c7-8dda-3a4893e90324.png" height="80px"/>
												</div>
											</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>
												<a href="">编辑</a> <span>|</span>
												<a href="javascript:void(0)" onclick="del_role(1)">删除</a>
											</td>
										</tr>
										<tr>
											<td class="text-center"><input type="checkbox" name="list_ch" id="1" hidden="hidden"><label for="1" class="checkbox_label"></label></td>
											<td>1</td>
											<td>2018年建设工程初级选拔考试</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>2017/7/8 15:00:00</td>
											<td>
												<div class="img">
													<img src="http://d.hiphotos.baidu.com/image/pic/item/b17eca8065380cd79a75c52cad44ad3458828183.jpg" height="80px"/>
												</div>
											</td>
											<td>
												<a href="">编辑</a> <span>|</span>
												<a href="javascript:void(0)" onclick="del_role(1)">删除</a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="page pd-10 clearfix">
								<ul class="page-pagination">
									<li>
										<a href="#">&laquo;</a>
									</li>
									<li class="active">
										<a href="#">1</a>
									</li>
									<li>
										<a href="#">2</a>
									</li>
									<li>
										<a href="#">3</a>
									</li>
									<li>
										<a href="#">4</a>
									</li>
									<li>
										<a href="#">&raquo;</a>
									</li>
									<li class="jump">
										<select>
											<option value="10" selected="">10 条/页</option>
											<option value="20">20 条/页</option>
											<option value="30">30 条/页</option>
											<option value="40">40 条/页</option>
											<option value="50">50 条/页</option>
										</select>
									</li>
									<li> 到第 <input type="number" /> 页 &nbsp;</li>
									<li>
										<a href="javascript:void(0)" class="btn btn-default"> 确定 </a>
									</li>
									<li class="page-msg">
										<a href="javascript:void(0)"> 第1页，共20页</a>
									</li>
									<!--<li class="page-msg"> <a href="javascript:void(0)" >  共20页 </a>  </li>-->
								</ul>

								<!--<ul class="pagination">
									<li>
										<a href="#">&laquo;</a>
									</li>
									<li class="active">
										<a href="#">1</a>
									</li>
									<li>
										<a href="#">2</a>
									</li>
									<li>
										<a href="#">3</a>
									</li>
									<li>
										<a href="#">4</a>
									</li>
									<li>
										<a href="#">5</a>
									</li>
									<li>
										<a href="#">&raquo;</a>
									</li>
								</ul>-->

							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
		<!-- 描述： 添加-->
		<div class="modal fade addModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content radius">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title">添加用户</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal" role="form" id="form-add">
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">机构名称:</label>
										<div class="col-sm-10">
											<select name="" class="form-control radius">
												<option value=""></option>
											</select>
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">用户姓名:</label>
										<div class="col-sm-10">
											<input type="text" name="name" class="form-control radius" />
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">性别:</label>
										<div class="col-sm-10">
											<div class="radio-box">
												<input type="radio" name="sex" value="1" checked="checked"/>
												<label>男</label>
											</div>
											<div class="radio-box">
												<input type="radio" name="sex" value="2" />
												<label>女</label>
											</div>
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">身份证号:</label>
										<div class="col-sm-10">
											<input type="text" class="form-control radius" name="card" />
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">联系电话:</label>
										<div class="col-sm-10">
											<input type="text" class="form-control radius" name="phone" />
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">email:</label>
										<div class="col-sm-10">
											<input type="text" class="form-control radius" name="email" />
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">QQ:</label>
										<div class="col-sm-10">
											<input type="text" class="form-control radius" />
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">微信号:</label>
										<div class="col-sm-10">
											<input type="text" class="form-control radius" />
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">地址:</label>
										<div class="col-sm-10">
											<textarea cols="2" class="form-control radius"></textarea>
										</div>
									</div>
								</div>

								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-2 control-label pl-0">是否为学生:</label>
										<div class="col-sm-10">
											<div class="radio-box">
												<input type="radio" name="isStu" value="1" checked="checked" />
												<label>是</label>
											</div>
											<div class="radio-box">
												<input type="radio" name="isStu" value="2" />
												<label>否</label>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="bottom text-center">
								<button type="button" class="btn btn-add radius" id="btn-test">提交</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!--   上传用户    -->
		<div class="modal fade uploadUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content radius">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title">上传用户</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal" role="form" enctype="multipart/form-data">
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-3 control-label">机构名称:</label>
										<div class="col-sm-9">
											<select name="" class="form-control radius">
												<option value=""></option>
											</select>
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-3 control-label">是否为学生:</label>
										<div class="col-sm-9">
											<div class="radio-box">
												<input type="radio" name="isStu" value="1" checked="checked" />
												<label>是</label>
											</div>
											<div class="radio-box">
												<input type="radio" name="isStu" value="2" />
												<label>否</label>
											</div>
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group">
										<label for="firstname" class="col-sm-3 control-label">excel表格:</label>
										<div class="col-sm-9">
											<input id="input-1a" type="file" class="file form-control  radius" data-show-preview="false">
										</div>
									</div>
								</div>
							</div>
							<div class="bottom text-center">
								<button type="button" class="btn btn-add radius" >提交</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		@@include('../../include/js.html')
		<script src="/scripts/lib/fileinput/js/plugins/piexif.js"></script>
		<script src="/scripts/lib/fileinput/js/fileinput.min.js"></script>
		<script src="/scripts/lib/fileinput/js/locales/zh.min.js"></script>
		
		<script type="text/javascript">
			
			
		</script>
		
		
		
		
		
		<script>
			function initFileInput(ctrlName, uploadUrl) {
				var control = $('#' + ctrlName);
				control.fileinput({
					language: 'zh', //设置语言
					uploadUrl: uploadUrl, //上传的地址
					showUpload: false, //是否显示上传按钮
					showCaption: true, //是否显示标题
					browseClass: "btn btn-primary", //按钮样式             
					previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
				});
			}
			initFileInput("input-1a", '')

			layui.use('laypage', function() {
				var laypage = layui.laypage;
				//执行一个laypage实例
				laypage.render({
					elem: 'page',
					count: 10,
					layout: ['prev', 'page', 'next', 'limit', 'skip'],
					jump: function(obj) {
						//console.log(obj)
					}
				});
			});

			$(function() {

				$('input[name="allSelect"]').click(function() {
					if($(this).prop('checked')) {
						$.each($('input[name="list_ch"]'), function(i, n) {
							$(n).prop('checked', 'checked')
						})
					} else {
						$.each($('input[name="list_ch"]'), function(i, n) {
							$(n).prop('checked', '')
						})
					}
				})

				$("#form-add").bootstrapValidator({
					feedbackIcons: {
						valid: 'glyphicon glyphicon-ok',
						invalid: 'glyphicon glyphicon-remove',
						validating: 'glyphicon glyphicon-refresh'
					},
					fields: {
						name: {
							message: '商户全称验证失败',
							validators: {
								notEmpty: {
									message: '商户全称不能为空'
								}
							}
						},
						sex: {
							validators: {
								notEmpty: {
									message: '邮箱地址不能为空'
								}
							}
						},
						card: {
							validators: {
								notEmpty: {
									message: '状态不能为空'
								}
							}
						}
					}

				});
				$("#btn-test").click(function() { //非submit按钮点击后进行验证，如果是submit则无需此句直接验证
					$("#form-add").bootstrapValidator('validate'); //提交验证
					if($("#form-add").data('bootstrapValidator').isValid()) { //获取验证结果，如果成功，执行下面代码
						alert("yes"); //验证成功后的操作，如ajax
					}
				});
			})

			function del_role(id) {
				swal({
					title: "确定删除吗？",
					text: "删除后将无法恢复！",
					icon: "warning",
					closeOnEsc: false,
					buttons: {
						cancel: {
							text: "取消",
							value: false,
							visible: true,
							className: "btn btn-default radius",
						},
						confirm: {
							text: "确定",
							className: "btn btn-add radius",
							closeModal: false
						}
					},
					dangerMode: true,
				}).then(function(isCom) {
					if(isCom) {
						swalAlert('提示', '', 'error')
					}
				});
			}

			function swalAlert(title, content, icon) {
				swal({
					title: title,
					text: content,
					icon: icon === undefined ? 'success' : icon,
					closeOnEsc: false,
					closeOnClickOutside: false,
					buttons: {
						confirm: {
							text: "确定",
							className: "btn btn-add radius",
						}
					},
				})
			}
		</script>
	</body>

</html>